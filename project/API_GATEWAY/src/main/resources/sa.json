{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080/","description":"Generated server url"}],"paths":{"/api/songcollection/artists/{uuid}":{"get":{"tags":["web-controller"],"summary":"Get artist by its unique identifier","operationId":"getArtistById","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Searched artist not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Found searched artist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtistResponse"}}}},"400":{"description":"Invalid syntax for path variables"}}},"put":{"tags":["web-controller"],"summary":"Create new artist or replace an existing one","operationId":"createNewArtist","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewArtistRequest"}}},"required":true},"responses":{"204":{"description":"Successfully replaced an existing resource with given uuid"},"400":{"description":"Incorrect syntax for path variables"},"422":{"description":"Unable to process the contained instructions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"409":{"description":"Conflict: unique name constraint unsatisfied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"201":{"description":"Successfully created a new artist resource","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtistResponse"}}}}}},"delete":{"tags":["web-controller"],"summary":"Delete  artist identified by uuid","operationId":"deleteArtist","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Incorrect syntax for path variables"},"404":{"description":"Searched artist not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Successfully deleted artist resource","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtistResponse"}}}}}}},"/api/songcollection/songs":{"get":{"tags":["web-controller"],"summary":"Get all songs","operationId":"getAllSongs","parameters":[{"name":"page","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32"}},{"name":"size","in":"query","required":false,"schema":{"minimum":1,"type":"integer","format":"int32","default":1}},{"name":"searchBy","in":"query","required":false,"schema":{"pattern":"title|year|genre","type":"string"}},{"name":"searchedValue","in":"query","required":false,"schema":{"type":"string"}},{"name":"match","in":"query","required":false,"schema":{"pattern":"exact","type":"string"}}],"responses":{"200":{"description":"Found searched songs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SongResponse"}}}},"422":{"description":"Unable to process the contained instructions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"400":{"description":"Invalid syntax for query params"}}},"post":{"tags":["web-controller"],"summary":"Add new song to song resources","operationId":"addNewSong","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewSongRequest"}}},"required":true},"responses":{"404":{"description":"Mentioned artists not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"400":{"description":"Malformed request syntax"},"201":{"description":"Successfully added  new song resource","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SongResponse"}}}},"409":{"description":"Mentioned album doesn't exist yet","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"422":{"description":"Semantically erroneous request body fields","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}}}}},"/api/songcollection/artists/{uuid}/songs":{"get":{"tags":["web-controller"],"summary":"Get songs for artist identified by uuid","operationId":"getAllSongsForGivenArtist","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Searched artist not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Found artist","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtistResponse"}}}},"400":{"description":"Invalid syntax for path variables"}}},"post":{"tags":["web-controller"],"summary":"Assign songs to an artist","operationId":"assignSongsToArtist","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewSongsForArtistRequest"}}},"required":true},"responses":{"400":{"description":"Incorrect syntax for path variables"},"422":{"description":"Unable to process the contained instructions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"404":{"description":"Searched artist/song not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Successfully updated join table","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtistResponse"}}}},"409":{"description":"The artist is not active","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}}}}},"/api/songcollection/songs/{id}":{"get":{"tags":["web-controller"],"summary":"Get song by its identifier","operationId":"getSongById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Searched song not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Found searched song","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SongResponse"}}}},"400":{"description":"Invalid syntax for path variables"}}},"delete":{"tags":["web-controller"],"summary":"Delete song resource identified by id","operationId":"deleteSong","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Incorrect syntax for path variables"},"200":{"description":"Successfully deleted song resource","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SongResponse"}}}},"404":{"description":"Searched song not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"409":{"description":"Conflict: cannot remove album without removing all its songs","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}}}}},"/api/songcollection/songs/{id}/artists":{"get":{"tags":["web-controller"],"summary":"Get artists for song identified by id","operationId":"getAllArtistsForGivenSong","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"404":{"description":"Searched song not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Found song by id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArtistResponse"}}}},"400":{"description":"Invalid syntax for path variables"}}}},"/api/songcollection/artists":{"get":{"tags":["web-controller"],"summary":"Get all artists","operationId":"getAllArtists","parameters":[{"name":"page","in":"query","required":false,"schema":{"minimum":0,"type":"integer","format":"int32"}},{"name":"size","in":"query","required":false,"schema":{"minimum":1,"type":"integer","format":"int32","default":1}},{"name":"name","in":"query","required":false,"schema":{"pattern":"^[-,a-zA-Z0-9\\s]*","type":"string"}},{"name":"match","in":"query","required":false,"schema":{"pattern":"exact","type":"string"}}],"responses":{"422":{"description":"Unable to process the contained instructions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExceptionResponse"}}}},"200":{"description":"Found searched artists","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ArtistResponse"}}}}},"400":{"description":"Invalid syntax for query params"}}}}},"components":{"schemas":{"NewArtistRequest":{"required":["name"],"type":"object","properties":{"name":{"pattern":"^[-,a-zA-Z0-9\\s]*","type":"string"},"active":{"pattern":"true|false","type":"string"}}},"ExceptionResponse":{"type":"object","properties":{"error":{"type":"string"},"status":{"type":"integer","format":"int32"},"details":{"type":"string"}}},"ArtistResponse":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"active":{"type":"boolean"},"songs":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/SongResponse"}},"hasSongs":{"type":"boolean"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"Link":{"type":"object","properties":{"rel":{"type":"string"},"href":{"type":"string"},"hreflang":{"type":"string"},"media":{"type":"string"},"title":{"type":"string"},"type":{"type":"string"},"deprecation":{"type":"string"},"profile":{"type":"string"},"name":{"type":"string"}}},"SongResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"genre":{"type":"string","enum":["HEAVY_METAL","ROCK","POP","COUNTRY"]},"year":{"type":"integer","format":"int32"},"type":{"type":"string","enum":["ALBUM","SONG","SINGLE"]},"parentId":{"type":"integer","format":"int32"},"links":{"type":"array","items":{"$ref":"#/components/schemas/Link"}}}},"NewSongRequest":{"required":["artists","genre","name","type"],"type":"object","properties":{"name":{"pattern":"^[-,a-zA-Z0-9\\s]*","type":"string"},"genre":{"type":"string","enum":["HEAVY_METAL","ROCK","POP","COUNTRY"]},"year":{"maximum":9999,"minimum":0,"type":"integer","format":"int32"},"type":{"type":"string","enum":["ALBUM","SONG","SINGLE"]},"parentId":{"type":"integer","format":"int32"},"artists":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"NewSongsForArtistRequest":{"required":["songsId"],"type":"object","properties":{"songsId":{"type":"array","items":{"type":"integer","format":"int32"}}}}}}}